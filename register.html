<html>
    <head>
        <title>cImpact Register</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>

        <h1 class="rHeader">Register</h1>
        <input id="rEmail" type="text" placeholder="email">
        <input id="rPassword" type="password" placeholder="password">
        <br>
        <button id="rButton" type="submit">Register</button>

        <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyCPE-4VYjPkJjWnOF7yrXq6lD4Zdaw9XA0",
            authDomain: "carbon-footprint-1c2cb.firebaseapp.com",
            databaseURL: "https://carbon-footprint-1c2cb.firebaseio.com",
            projectId: "carbon-footprint-1c2cb",
            storageBucket: "",
            messagingSenderId: "770037889701"
          };
          firebase.initializeApp(config);
        </script>

        <script>
          var rEmail = document.getElementById('rEmail')
          var rPassword = document.getElementById('rPassword')
          var rButton = document.getElementById('rButton')

          var r = document.querySelector('h1')

          rButton.onclick = function() {
            firebase.auth().createUserWithEmailAndPassword(rEmail.value, rPassword.value).catch(function(error) {
              var errorCode = error.code
              var errorMessage = error.message
              alert(errorMessage)
            })
          }

          firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
              r.innerHTML = "Logged in as " + user.email
              window.location.replace('index.html')

            }
          })

        </script>
    </body>
</html>
